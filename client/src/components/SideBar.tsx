import { CircleUserRound, Ticket } from 'lucide-react';
import { Link, useLocation } from 'react-router-dom';
import { Button } from './ui/button';

export function Sidebar({ className }: React.HTMLAttributes<HTMLDivElement>) {
	return (
		<div className='flex flex-col py-4 border-r'>
			<Logo />
			<SideNavMenu />
		</div>
	);
}

function SideNavMenu() {
	const { pathname } = useLocation();

	return (
		<div className='px-3 pb-2'>
			<div className='space-y-1'>
				{navList
					.sort((a, b) => (a.index > b.index ? 1 : -1))
					.map((menuItem) => {
						const { id, link, title, jsx } = menuItem;
						const isActive = pathname.includes(link);
						return (
							<Button asChild variant={isActive ? 'default' : 'ghost'} className='w-full justify-start gap-4 text-base'>
								<Link to={link} key={id}>
									{jsx}
									{title}
								</Link>
							</Button>
						);
					})}
			</div>
		</div>
	);
}

function Logo() {
	return (
		<svg width='282' height='65' viewBox='0 0 282 82' fill='none' xmlns='http://www.w3.org/2000/svg'>
			<g filter='url(#filter0_d_209_17)'>
				<path
					d='M65.2184 18.2968C64.4992 17.3098 63.7095 16.3764 62.855 15.5039C62.7942 15.4427 62.7367 15.382 62.6759 15.3208C59.9752 12.6175 56.6912 10.5689 53.0757 9.33252V42.1258C53.0757 43.2251 52.8592 44.3136 52.4386 45.3291C52.0179 46.3447 51.4014 47.2675 50.6241 48.0447C49.8468 48.8222 48.924 49.4388 47.9084 49.8593C46.8928 50.2799 45.8043 50.4964 44.7051 50.4964H39.7152V57.4394C41.4521 57.8098 43.223 57.9968 44.999 57.9968C49.6105 57.9972 54.1323 56.7222 58.0642 54.3127C61.9962 51.9032 65.1848 48.4526 67.2776 44.3435C69.3703 40.2342 70.2855 35.6261 69.9222 31.0289C69.5589 26.4317 67.9309 22.0247 65.2184 18.2952V18.2968Z'
					fill='#A899F1'
				/>
				<path
					d='M44.999 8C40.3877 8.00044 35.8662 9.27622 31.9348 11.6863C28.0034 14.0963 24.8151 17.5467 22.7225 21.6559C20.6299 25.7652 19.7145 30.3731 20.0776 34.9701C20.4408 39.5671 22.0682 43.9742 24.78 47.7039C25.5008 48.6905 26.2918 49.6239 27.1469 50.4965C27.2057 50.5556 27.2633 50.6148 27.3221 50.6779C30.0222 53.3809 33.3052 55.4299 36.9195 56.6678V23.8714C36.9205 21.6514 37.803 19.5228 39.373 17.9534C40.9431 16.384 43.0722 15.5023 45.2921 15.5023H50.282V8.55938C48.5456 8.18747 46.7748 7.99997 44.999 8Z'
					fill='#7C3AED'
				/>
			</g>
			<g filter='url(#filter1_d_209_17)'>
				<path
					d='M91.5852 23.2172V19.8166H111.848V23.2172H103.679V45.9984H99.7415V23.2172H91.5852ZM116.019 45.9984V26.362H119.841V45.9984H116.019ZM117.949 23.3322C117.284 23.3322 116.713 23.1106 116.236 22.6674C115.767 22.2157 115.533 21.6788 115.533 21.0567C115.533 20.426 115.767 19.889 116.236 19.4459C116.713 18.9942 117.284 18.7683 117.949 18.7683C118.614 18.7683 119.181 18.9942 119.65 19.4459C120.127 19.889 120.365 20.426 120.365 21.0567C120.365 21.6788 120.127 22.2157 119.65 22.6674C119.181 23.1106 118.614 23.3322 117.949 23.3322ZM128.499 39.3379L128.474 34.6717H129.138L136.962 26.362H141.539L132.616 35.8223H132.015L128.499 39.3379ZM124.984 45.9984V19.8166H128.806V45.9984H124.984ZM137.384 45.9984L130.353 36.666L132.987 33.9942L142.076 45.9984H137.384ZM159.609 26.6944C159.473 25.4842 158.911 24.5467 157.922 23.8819C156.933 23.2086 155.689 22.872 154.189 22.872C153.115 22.872 152.186 23.0424 151.402 23.3834C150.618 23.7157 150.009 24.176 149.574 24.764C149.148 25.3436 148.935 26.0041 148.935 26.7456C148.935 27.3677 149.08 27.9047 149.369 28.3564C149.668 28.8081 150.055 29.1873 150.533 29.4942C151.018 29.7924 151.538 30.0439 152.092 30.2484C152.646 30.4444 153.179 30.6064 153.69 30.7342L156.247 31.399C157.082 31.6035 157.939 31.8805 158.817 32.2299C159.695 32.5794 160.509 33.0396 161.259 33.6106C162.009 34.1817 162.614 34.889 163.074 35.7328C163.543 36.5765 163.777 37.5865 163.777 38.7626C163.777 40.2456 163.393 41.5623 162.626 42.7129C161.868 43.8635 160.764 44.7711 159.315 45.4359C157.875 46.1007 156.132 46.4331 154.087 46.4331C152.126 46.4331 150.43 46.122 148.999 45.4998C147.567 44.8777 146.446 43.9956 145.636 42.8535C144.827 41.703 144.379 40.3393 144.294 38.7626H148.257C148.334 39.7086 148.641 40.497 149.178 41.1277C149.723 41.7498 150.418 42.2143 151.261 42.5211C152.114 42.8194 153.047 42.9686 154.061 42.9686C155.178 42.9686 156.17 42.7939 157.04 42.4444C157.918 42.0865 158.608 41.5922 159.111 40.9615C159.614 40.3223 159.865 39.5765 159.865 38.7243C159.865 37.9487 159.643 37.3138 159.2 36.8194C158.766 36.3251 158.173 35.916 157.423 35.5922C156.682 35.2683 155.842 34.9828 154.905 34.7356L151.811 33.8919C149.714 33.3209 148.053 32.4814 146.825 31.3734C145.607 30.2655 144.997 28.7995 144.997 26.9757C144.997 25.4672 145.406 24.1504 146.224 23.0254C147.043 21.9004 148.151 21.0268 149.548 20.4047C150.946 19.774 152.523 19.4586 154.278 19.4586C156.051 19.4586 157.615 19.7697 158.97 20.3919C160.334 21.014 161.408 21.8706 162.192 22.9615C162.976 24.0439 163.385 25.2882 163.419 26.6944H159.609ZM170.607 53.362C170.036 53.362 169.516 53.3152 169.047 53.2214C168.578 53.1362 168.229 53.0424 167.999 52.9402L168.919 49.8081C169.618 49.9956 170.24 50.0765 170.786 50.051C171.331 50.0254 171.813 49.8209 172.23 49.4373C172.657 49.0538 173.032 48.4274 173.355 47.5581L173.828 46.2541L166.644 26.362H170.735L175.708 41.6007H175.912L180.885 26.362H184.989L176.897 48.6192C176.522 49.6419 176.044 50.5069 175.465 51.2143C174.885 51.9302 174.195 52.4672 173.394 52.8251C172.593 53.1831 171.664 53.362 170.607 53.362Z'
					fill='#7C3AED'
				/>
			</g>
			<defs>
				<filter id='filter0_d_209_17' x='4' y='0' width='82' height='81.9968' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'>
					<feFlood flood-opacity='0' result='BackgroundImageFix' />
					<feColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0' result='hardAlpha' />
					<feOffset dy='8' />
					<feGaussianBlur stdDeviation='8' />
					<feComposite in2='hardAlpha' operator='out' />
					<feColorMatrix type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0' />
					<feBlend mode='normal' in2='BackgroundImageFix' result='effect1_dropShadow_209_17' />
					<feBlend mode='normal' in='SourceGraphic' in2='effect1_dropShadow_209_17' result='shape' />
				</filter>
				<filter
					id='filter1_d_209_17'
					x='75.5852'
					y='10.7683'
					width='125.404'
					height='66.5938'
					filterUnits='userSpaceOnUse'
					color-interpolation-filters='sRGB'
				>
					<feFlood flood-opacity='0' result='BackgroundImageFix' />
					<feColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0' result='hardAlpha' />
					<feOffset dy='8' />
					<feGaussianBlur stdDeviation='8' />
					<feComposite in2='hardAlpha' operator='out' />
					<feColorMatrix type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0' />
					<feBlend mode='normal' in2='BackgroundImageFix' result='effect1_dropShadow_209_17' />
					<feBlend mode='normal' in='SourceGraphic' in2='effect1_dropShadow_209_17' result='shape' />
				</filter>
			</defs>
		</svg>
	);
}

interface INavList {
	id: string;
	index: number;
	title: string;
	link: string;
	jsx: any;
}

const navList: INavList[] = [
	{
		index: 0,
		id: 'tickets',
		jsx: <Ticket strokeWidth={1.5} />,
		title: 'Tickets',
		link: 'tickets',
	},
	{
		index: 1,
		id: 'agents',
		jsx: <CircleUserRound strokeWidth={1.5} />,
		title: 'Agents',
		link: 'agents',
	},
];
